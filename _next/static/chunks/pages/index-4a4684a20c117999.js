(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4347)}])},4347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893);Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date().addHours(0),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date().addHours(1),l=e.filter(e=>{let{start:t,end:l}=e,i=new Date("".concat(t[0],"-").concat(t[1],"-").concat(t[2]," ").concat(t[3],":").concat(t[4])),o=new Date("".concat(l[0],"-").concat(l[1],"-").concat(l[2]," ").concat(l[3],":").concat(l[4]));return i<=r&&o>=n}),i=l.map(e=>{let{locationUnits:t}=e;return t[0].code});return t.filter(e=>{let{code:t}=e;return!i.includes(t)})},i=n(7294),o={LAB_ACTIVITY:"https://rooster.rug.nl/api/v2/2022-2023/activity/by/building/sebernoulliborgcomputer",LAB_ROOMS:"https://rooster.rug.nl/api/2022-2023/locationUnit/by/building/sebernoulliborgcomputer",LECTURE_ACTIVITY:"https://rooster.rug.nl/api/v2/2022-2023/activity/by/building/sebernoulliborglecture",LECTURE_ROOMS:"https://rooster.rug.nl/api/2022-2023/locationUnit/by/building/sebernoulliborglecture"};let s=()=>{let[e,t]=(0,i.useState)({}),n=Object.keys(o);return n.push("META"),(0,i.useEffect)(()=>{let e=async()=>{n.forEach(async e=>{fetch("".concat(e,".json")).then(e=>e.json()).then(n=>{t(t=>({...t,[e]:n}))})})};e()},[]),e},c=e=>{let{code:t,name:{nl:n}}=e;return t.startsWith("#")?n.startsWith("BB")?n.slice(2,12):n.slice(0,10):t},a=e=>{let t=c(e);return t.replaceAll(" ","")},u={"5161.0151":"huge lecture hall","5161.0253":"usual lecture hall","5161.0216":"computer lab","5161.0222":"tiny lecture hall"},h=e=>u[e]||"";function d(){let e=new Set,t=new Set,n=s();if(Object.keys(n).length<5)return(0,r.jsx)("h1",{children:"Loading..."});let i=Object.keys(n).filter(e=>e.endsWith("ROOMS")).sort(),o=Object.keys(n).filter(e=>e.endsWith("ACTIVITY")).sort();for(let r=0;r<i.length;r++){let s=n[i[r]],c=n[o[r]],u=l(c,s);for(let t=0;t<u.length;t++){let n=a(u[t]);e.add(n)}let h=l([],s);for(let e=0;e<h.length;e++){let n=a(h[e]);t.add(n)}}let c=new Date(n.META.lastUpdated).toLocaleString();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Index"}),(0,r.jsx)("h2",{children:"Available rooms in the coming hour"}),(0,r.jsxs)("p",{children:["Last updated ",c]}),(0,r.jsx)("ul",{children:Array.from(e).sort().map((e,t)=>(0,r.jsxs)("li",{children:[e,(0,r.jsx)("span",{style:{width:"1rem",display:"inline-block"}}),h(e)]},t))}),(0,r.jsxs)("details",{children:[(0,r.jsx)("summary",{children:"Unavailable rooms"}),(0,r.jsx)("ul",{children:Array.from(Set.difference(t,e)).sort().map((e,t)=>(0,r.jsxs)("li",{children:[e,(0,r.jsx)("span",{style:{width:"1rem",display:"inline-block"}}),h(e)]},t))})]}),(0,r.jsx)("iframe",{src:"https://nomomon.github.io/notion-namaz-time/",style:{width:"90vw"}})]})}Set.difference=function(e,t){if(!e instanceof Set||!t instanceof Set)return console.log("The given objects are not of type Set"),null;let n=new Set;return e.forEach(e=>n.add(e)),t.forEach(e=>n.delete(e)),n}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);