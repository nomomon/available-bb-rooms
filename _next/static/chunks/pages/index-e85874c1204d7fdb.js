(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4347)}])},4347:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=n(5893);Date.prototype.addHours=function(t){return this.setHours(this.getHours()+t),this};var l=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date().addHours(0),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date().addHours(1),l=t.filter(t=>{let{start:e,end:l}=t,o=new Date("".concat(e[0],"-").concat(e[1],"-").concat(e[2]," ").concat(e[3],":").concat(e[4])),i=new Date("".concat(l[0],"-").concat(l[1],"-").concat(l[2]," ").concat(l[3],":").concat(l[4]));return o<=r&&i>=n}),o=l.map(t=>{let{locationUnits:e}=t;return e[0].code});return e.filter(t=>{let{code:e}=t;return!o.includes(e)})},o=n(7294),i={LAB_ACTIVITY:"https://rooster.rug.nl/api/v2/2022-2023/activity/by/building/sebernoulliborgcomputer",LAB_ROOMS:"https://rooster.rug.nl/api/2022-2023/locationUnit/by/building/sebernoulliborgcomputer",LECTURE_ACTIVITY:"https://rooster.rug.nl/api/v2/2022-2023/activity/by/building/sebernoulliborglecture",LECTURE_ROOMS:"https://rooster.rug.nl/api/2022-2023/locationUnit/by/building/sebernoulliborglecture"};let c=()=>{let[t,e]=(0,o.useState)({}),n=Object.keys(i);return n.push("META"),(0,o.useEffect)(()=>{let t=async()=>{n.forEach(async t=>{fetch("".concat(t,".json")).then(t=>t.json()).then(n=>{e(e=>({...e,[t]:n}))})})};t()},[]),t},s=t=>{let{code:e,name:{nl:n}}=t;return e.startsWith("#")?n.startsWith("BB")?n.slice(2,12):n.slice(0,10):e},a=t=>{let e=s(t);return e.replaceAll(" ","")},u={"5161.0151":"huge lecture hall","5161.0253":"usual lecture hall","5161.0216":"computer lab","5161.0222":"tiny lecture hall"},h=t=>u[t]||"";function d(){let t=new Set,e=c();if(Object.keys(e).length<5)return(0,r.jsx)("h1",{children:"Loading..."});let n=Object.keys(e).filter(t=>t.endsWith("ROOMS")).sort(),o=Object.keys(e).filter(t=>t.endsWith("ACTIVITY")).sort();for(let r=0;r<n.length;r++){let i=e[n[r]],c=e[o[r]];console.log(n[r],o);let s=l(c,i);for(let e=0;e<s.length;e++){let n=a(s[e]);t.add(n)}}let i=new Date(e.META.lastUpdated).toLocaleString();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Index"}),(0,r.jsx)("h2",{children:"Available rooms in the coming hour"}),(0,r.jsxs)("p",{children:["Last updated ",i]}),(0,r.jsx)("ul",{children:Array.from(t).sort().map((t,e)=>(0,r.jsxs)("li",{children:[t,(0,r.jsx)("span",{style:{width:"1rem",display:"inline-block"}}),h(t)]},e))})]})}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);